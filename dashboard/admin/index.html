<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ูพูู ูุฏุฑุช | Pro TooLs</title>
  <link rel="stylesheet" href="admin.css" />
</head>
<body>
  <div id="app">
    <header class="admin-header">
      <div class="brand"><span lang="en">Pro TooLs</span> | ูพูู ูุฏุฑุช</div>
      <nav class="admin-nav">
        <a href="/" class="btn btn-back">ุจุงุฒฺฏุดุช ุจู ุณุงุช</a>
        <button id="btn-logout" class="btn btn-danger" hidden>ุฎุฑูุฌ</button>
      </nav>
    </header>

    <main class="admin-main">
      <!-- Login Section -->
      <section id="login-section" class="login-container">
        <!-- Login Card -->
        <div class="card login-card">
          <div class="login-hero">
            <h1 class="card-title">ูุฑูุฏ ูุฏุฑ</h1>
            <p class="card-sub">ุจุฑุง ุฏุณุชุฑุณ ุจู ูพูู ูุฏุฑุช ูุงุฑุฏ ุดูุฏ</p>
          </div>
          <form id="login-form" class="form">
            <label class="form-field">
              <span>ูุงู ฺฉุงุฑุจุฑ</span>
              <input type="text" name="username" required autocomplete="username" />
            </label>
            <label class="form-field">
              <span>ุฑูุฒ ุนุจูุฑ</span>
              <input type="password" name="password" required autocomplete="current-password" />
            </label>
            <button type="submit" class="btn btn-primary" style="width:100%">ูุฑูุฏ</button>
          </form>
        </div>

        <!-- System Status Card -->
        <div class="card status-card">
          <h3 class="card-title">ูุถุนุช ุณุณุชู</h3>
          <div id="health" class="health">
            <div class="health-item" data-key="kv">
              <span class="health-label">ูพุงฺฏุงู ุฏุงุฏู (KV):</span>
              <span class="status">ุฏุฑ ุญุงู ุจุฑุฑุณ...</span>
            </div>
            <div class="health-item" data-key="adminEnv">
              <span class="health-label">ุชูุธูุงุช ูุฏุฑ:</span>
              <span class="status">ุฏุฑ ุญุงู ุจุฑุฑุณ...</span>
            </div>
            <div class="health-item" data-key="secret">
              <span class="health-label">ฺฉูุฏ ุงููุช:</span>
              <span class="status">ุฏุฑ ุญุงู ุจุฑุฑุณ...</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Dashboard -->
      <section id="dashboard-section" class="dashboard hidden" style="display: none;">
        <aside class="sidebar">
          <div class="sidebar-header">
            <h3>๐ ูพูู ูุฏุฑุช</h3>
          </div>
          <button class="sidebar-link active" data-view="dashboard">
            <span class="sidebar-icon">๐</span>
            <span>ุฏุงุดุจูุฑุฏ</span>
          </button>
          <button class="sidebar-link" data-view="kv">
            <span class="sidebar-icon">๐พ</span>
            <span>ูุฏุฑุช ูุญุชูุง (KV)</span>
          </button>
          <button class="sidebar-link" data-view="post">
            <span class="sidebar-icon">โ๏ธ</span>
            <span>ูพุณุช ุฌุฏุฏ</span>
          </button>
          <button class="sidebar-link" data-view="templates">
            <span class="sidebar-icon">๐</span>
            <span>ุชููพูุชโูุง ุขูุงุฏู</span>
          </button>
          <button class="sidebar-link" data-view="content-manager">
            <span class="sidebar-icon">๐</span>
            <span>ูุฏุฑุช ูุญุชูุง</span>
          </button>
          <button class="sidebar-link" data-view="files">
            <span class="sidebar-icon">๐</span>
            <span>ูุฏุฑุช ูุงู</span>
          </button>
          <button class="sidebar-link" data-view="contacts">
            <span class="sidebar-icon">๐</span>
            <span>ุชูุงุณโูุง</span>
          </button>
          <button class="sidebar-link" data-view="sponsors">
            <span class="sidebar-icon">๐ค</span>
            <span>ุงุณูพุงูุณุฑูุง</span>
          </button>
          <button class="sidebar-link" data-view="settings">
            <span class="sidebar-icon">โ๏ธ</span>
            <span>ุชูุธูุงุช</span>
          </button>
          <button class="sidebar-link" data-view="pages">
            <span class="sidebar-icon">๐</span>
            <span>ูุงูโูุง ุงุณุชุงุชฺฉ</span>
          </button>
        </aside>

        <section class="content">
          <!-- Dashboard Overview -->
          <div id="view-dashboard" class="view" role="region" aria-label="ุฏุงุดุจูุฑุฏ">
            <div class="dashboard-header">
              <h2>๐ ุฏุงุดุจูุฑุฏ ูุฏุฑุช</h2>
              <p class="dashboard-subtitle">ุฎูุงุตูโุง ุงุฒ ูุถุนุช ุณุงุช ู ุขูุงุฑ ฺฉู</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-icon">๐</div>
                <div class="stat-info">
                  <h3 id="articles-count">-</h3>
                  <p>ููุงูุงุช</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">๐ฐ</div>
                <div class="stat-info">
                  <h3 id="news-count">-</h3>
                  <p>ุงุฎุจุงุฑ</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">โ๏ธ</div>
                <div class="stat-info">
                  <h3 id="configs-count">-</h3>
                  <p>ฺฉุงููฺฏโูุง</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">๐</div>
                <div class="stat-info">
                  <h3 id="files-count">-</h3>
                  <p>ูุงูโูุง</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">๐ค</div>
                <div class="stat-info">
                  <h3 id="users-count">-</h3>
                  <p>ฺฉุงุฑุจุฑุงู ุซุจุชโูุงูโุดุฏู</p>
                </div>
              </div>
            </div>

            <div class="quick-actions">
              <h3>๐ ุนููุงุช ุณุฑุน</h3>
              <div class="quick-actions-grid">
                <button class="quick-action-btn" onclick="switchView('post')">
                  <span class="quick-icon">โ๏ธ</span>
                  <span>ููุดุชู ูพุณุช ุฌุฏุฏ</span>
                </button>
                <button class="quick-action-btn" onclick="switchView('templates')">
                  <span class="quick-icon">๐</span>
                  <span>ุงุณุชูุงุฏู ุงุฒ ุชููพูุช</span>
                </button>
                <button class="quick-action-btn" onclick="switchView('files')">
                  <span class="quick-icon">๐</span>
                  <span>ุขูพููุฏ ูุงู</span>
                </button>
                <button class="quick-action-btn" onclick="switchView('content-manager')">
                  <span class="quick-icon">๐</span>
                  <span>ูุฏุฑุช ูุญุชูุง</span>
                </button>
              </div>
            </div>

            <div class="recent-activity">
              <h3>๐ ูุนุงูุชโูุง ุงุฎุฑ</h3>
              <div id="recent-activity-list" class="activity-list">
                <p class="loading-text">ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...</p>
              </div>
            </div>
          </div>

          <!-- Content Manager -->
          <div id="view-content-manager" class="view" role="region" aria-label="ูุฏุฑุช ูุญุชูุง" hidden>
            <div class="toolbar">
              <div class="group">
                <strong>๐ ูุฏุฑุช ูุญุชูุง ูพุดุฑูุชู</strong>
              </div>
              <div class="group">
                <select id="content-type-filter" class="input">
                  <option value="all">ููู ูุญุชูุง</option>
                  <option value="articles">ููุงูุงุช</option>
                  <option value="news">ุงุฎุจุงุฑ</option>
                  <option value="configs">ฺฉุงููฺฏโูุง</option>
                  <option value="downloads">ุฏุงูููุฏูุง</option>
                </select>
                <button id="btn-load-content" class="btn btn-primary">ุจุงุฑฺฏุฐุงุฑ</button>
                <button id="btn-refresh-content" class="btn btn-secondary">๐ ุชุงุฒูโุณุงุฒ</button>
              </div>
            </div>

            <div class="content-grid" id="content-grid">
              <p class="loading-text">ูุญุชูุง ุจุฑุง ููุงุด ูุฌูุฏ ูุฏุงุฑุฏ</p>
            </div>

            <div class="content-pagination" id="content-pagination" style="display: none;">
              <button id="btn-prev-page" class="btn btn-secondary">ูุจู</button>
              <span id="page-info">ุตูุญู 1 ุงุฒ 1</span>
              <button id="btn-next-page" class="btn btn-secondary">ุจุนุฏ</button>
            </div>
          </div>

          <!-- Settings -->
          <div id="view-settings" class="view" role="region" aria-label="ุชูุธูุงุช" hidden>
            <div class="toolbar">
              <div class="group">
                <strong>โ๏ธ ุชูุธูุงุช ุณุณุชู</strong>
              </div>
            </div>

            <div class="settings-sections">
              <div class="form-section">
                <h3>๐จ ุชูุธูุงุช ุธุงูุฑ</h3>
                <div class="form-grid">
                  <label class="form-field">
                    <span>ูุงู ุณุงุช</span>
                    <input type="text" id="site-name" placeholder="Pro TooLs" />
                  </label>
                  <label class="form-field">
                    <span>ุฑูฺฏ ุงุตู</span>
                    <input type="color" id="primary-color" value="#bdbdbd" />
                  </label>
                </div>
              </div>

              <div class="form-section">
                <h3>๐ง ุชูุธูุงุช ุนููฺฉุฑุฏ</h3>
                <div class="form-grid">
                  <label class="form-field">
                    <span>ูุนุงูโุณุงุฒ ุฌุณุชุฌู</span>
                    <select id="search-enabled">
                      <option value="true">ูุนุงู</option>
                      <option value="false">ุบุฑูุนุงู</option>
                    </select>
                  </label>
                  <label class="form-field">
                    <span>ุชุนุฏุงุฏ ููุงูุงุช ุฏุฑ ุตูุญู</span>
                    <input type="number" id="articles-per-page" value="10" min="5" max="50" />
                  </label>
                </div>
              </div>

              <div class="actions">
                <button id="btn-save-settings" class="btn btn-primary">๐พ ุฐุฎุฑู ุชูุธูุงุช</button>
                <button id="btn-reset-settings" class="btn btn-danger">๐ ุจุงุฒูุดุงู</button>
              </div>
            </div>
          </div>

          <!-- KV Manager -->
          <div id="view-kv" class="view" role="region" aria-label="ูุฏุฑุช ูุญุชูุง">
            <div class="toolbar">
              <div class="group">
                <input id="prefix" class="input" placeholder="Prefix ูุซุงู: articles/ ุง pages/" />
                <button id="btn-list" class="btn">ูุณุช</button>
              </div>
              <div class="group">
                <label for="template-select">ุชููพูุช:</label>
                <select id="template-select" class="input">
                  <option value="">โ ุงูุชุฎุงุจ ุชููพูุช โ</option>
                  <option value="article">ูุญุชูุง ููุงูู (JSON)</option>
                  <option value="page">ุตูุญู ุงุณุชุงุชฺฉ (HTML)</option>
                  <option value="settings">ุชูุธูุงุช (JSON)</option>
                </select>
                <button id="btn-apply-template" class="btn">ุงุนูุงู ุชููพูุช</button>
              </div>
              <div class="group">
                <input id="kv-key" class="input" placeholder="ฺฉูุฏ (key)" />
                <button id="btn-get" class="btn">ุฏุฑุงูุช</button>
                <button id="btn-delete" class="btn btn-danger">ุญุฐู</button>
              </div>
            </div>

            <div class="editor">
              <textarea id="kv-value" placeholder='ูุญุชูุง (JSON ุง ูุชู ุนุงุฏ). ุจุฑุง JSON ุงุฒ ุณุงุฎุชุงุฑ ุฏุฑุณุช ุงุณุชูุงุฏู ฺฉูุฏ.'></textarea>
            </div>
            <div class="actions">
              <button id="btn-put" class="btn btn-primary">ุฐุฎุฑู/ุจุฑูุฒุฑุณุงู</button>
              <button id="btn-kv-draft-save" class="btn">ุฐุฎุฑู ูพุดโููุณ</button>
              <button id="btn-kv-draft-load" class="btn">ุจุงุฑฺฏุฐุงุฑ ูพุดโููุณ</button>
              <button id="btn-kv-draft-clear" class="btn btn-danger">ูพุงฺฉโฺฉุฑุฏู ูพุดโููุณ</button>
            </div>

            <div class="list" id="kv-list"></div>
          </div>

          <!-- Contacts Manager -->
          <div id="view-contacts" class="view" role="region" aria-label="ุชูุงุณโูุง" hidden>
            <div class="toolbar">
              <div class="group">
                <strong>ุชูุงุณ ุจุง ูุง (ุชูฺฏุฑุงู):</strong>
              </div>
            </div>
            <form id="contacts-form" class="form form-grid">
              <label class="form-field">
                <span>ุนููุงู ฑ</span>
                <input type="text" id="c1-label" placeholder="ุชูุงุณ ุจุง ูุง - Minimalcraft" />
              </label>
              <label class="form-field">
                <span>ููฺฉ ฑ</span>
                <input type="url" id="c1-url" placeholder="https://t.me/Minimalcraft" />
              </label>
              <label class="form-field">
                <span>ุนููุงู ฒ</span>
                <input type="text" id="c2-label" placeholder="ุชูุงุณ ุจุง ูุง - NeoDebug" />
              </label>
              <label class="form-field">
                <span>ููฺฉ ฒ</span>
                <input type="url" id="c2-url" placeholder="https://t.me/NeoDebug" />
              </label>
              <div class="actions">
                <button type="button" id="btn-contacts-load" class="btn">ุฏุฑุงูุช</button>
                <button type="button" id="btn-contacts-save" class="btn btn-primary">ุฐุฎุฑู</button>
              </div>
              <p class="form-hint">ุฏุฑ KV ุจุง ฺฉูุฏ <code>settings/contacts.json</code> ุฐุฎุฑู ูโุดูุฏ.</p>
            </form>
          </div>

          <!-- Sponsors Manager -->
          <div id="view-sponsors" class="view" role="region" aria-label="ุงุณูพุงูุณุฑูุง" hidden>
            <div class="toolbar">
              <div class="group"><strong>ูุณุช ุงุณูพุงูุณุฑูุง</strong></div>
              <div class="group"><button type="button" id="btn-sp-add" class="btn">+ ุงูุฒูุฏู</button></div>
            </div>
            <div id="sponsors-list" class="list"></div>
            <div class="actions">
              <button type="button" id="btn-sp-load" class="btn">ุฏุฑุงูุช</button>
              <button type="button" id="btn-sp-save" class="btn btn-primary">ุฐุฎุฑู ููู</button>
            </div>
            <p class="form-hint">ุฏุฑ KV ุจุง ฺฉูุฏ <code>settings/sponsors.json</code> ุฐุฎุฑู ูโุดูุฏ. ูุฑ ููุฑุฏ ุดุงูู name ู url ุงุณุช.</p>
          </div>

          <!-- Post Wizard -->
          <div id="view-post" class="view" role="region" aria-label="ูพุณุช ุฌุฏุฏ" hidden>
            <div class="toolbar">
              <div class="group"><strong>ุณุงุฎุช ูพุณุช ุฌุฏุฏ (ุณุงุฏู ุจุฑุง ุงูุฑุงุฏ ุบุฑ ูู)</strong></div>
              <div class="group"><button type="button" id="btn-post-generate-key" class="btn">ุชููุฏ ฺฉูุฏ</button></div>
            </div>
            <form id="post-form" class="form form-grid">
              <label class="form-field">
                <span>ุนููุงู</span>
                <input type="text" id="post-title" placeholder="ูุซูุงู: ุฑุงูโุงูุฏุงุฒ DNS ุณุฑุน" />
              </label>
              <label class="form-field">
                <span>ฺฉุงูุฑ (URL)</span>
                <input type="url" id="post-cover" placeholder="/Articles/covers/cover.jpg" />
              </label>
              <label class="form-field" style="grid-column:1/-1;">
                <span>ุฎูุงุตู ฺฉูุชุงู</span>
                <input type="text" id="post-summary" placeholder="ฺูุฏ ุฎุท ุฏุฑุจุงุฑู ุงู ูพุณุช" />
              </label>
              <label class="form-field" style="grid-column:1/-1;">
                <span>ุจุฑฺุณุจโูุง (ุจุง ูุฑฺฏูู ุฌุฏุง ฺฉูุฏ)</span>
                <input type="text" id="post-tags" placeholder="dns, ุฑุงูููุง, ุขููุฒุด" />
              </label>
              <label class="form-field" style="grid-column:1/-1;">
                <span>ูุชู ฺฉุงูู</span>
                <textarea id="post-body" placeholder="ูุชู ูพุณุช..." style="min-height:220px;"></textarea>
              </label>
              <label class="form-field" style="grid-column:1/-1;">
                <span>ฺฉูุฏ ุฐุฎุฑู (KV)</span>
                <input type="text" id="post-key" placeholder="articles/YYYY/MM/slug.json" />
              </label>
              <div class="actions" style="grid-column:1/-1;">
                <button type="button" id="btn-post-preview" class="btn">ูพุดโููุงุด</button>
                <button type="button" id="btn-post-save-kv" class="btn btn-primary">ุฐุฎุฑู ุฏุฑ KV</button>
                <button type="button" id="btn-post-draft-save" class="btn">ุฐุฎุฑู ูพุดโููุณ ูุญู</button>
                <button type="button" id="btn-post-draft-load" class="btn">ุจุงุฑฺฏุฐุงุฑ ูพุดโููุณ</button>
                <button type="button" id="btn-post-draft-clear" class="btn btn-danger">ูพุงฺฉโฺฉุฑุฏู ูพุดโููุณ</button>
              </div>
            </form>
            <div id="post-preview" class="card" style="margin-top:12px; display:none;">
              <h3 class="card-title">ูพุดโููุงุด</h3>
              <div id="post-preview-content" class="about-text"></div>
            </div>
          </div>

          <!-- Templates Manager -->
          <div id="view-templates" class="view" role="region" aria-label="ุชููพูุชโูุง" hidden>
            <div class="toolbar">
              <div class="group"><strong>ุชููพูุชโูุง ุขูุงุฏู</strong></div>
              <div class="group"><button type="button" id="btn-template-new" class="btn">+ ุชููพูุช ุฌุฏุฏ</button></div>
            </div>
            
            <div class="templates-grid">
              <div class="template-card" data-template="article">
                <div class="template-icon">๐</div>
                <h3>ููุงูู ุขููุฒุด</h3>
                <p>ุจุฑุง ููุดุชู ุฑุงูููุง ู ุขููุฒุดโูุง ูู</p>
                <button class="btn btn-primary" onclick="applyTemplate('article')">ุงุณุชูุงุฏู</button>
              </div>
              
              <div class="template-card" data-template="news">
                <div class="template-icon">๐ฐ</div>
                <h3>ุฎุจุฑ ู ุงุทูุงุนู</h3>
                <p>ุจุฑุง ุงูุชุดุงุฑ ุงุฎุจุงุฑ ู ุงุทูุงุนูโูุง</p>
                <button class="btn btn-primary" onclick="applyTemplate('news')">ุงุณุชูุงุฏู</button>
              </div>
              
              <div class="template-card" data-template="config">
                <div class="template-icon">โ๏ธ</div>
                <h3>ฺฉุงููฺฏ ู ุชูุธูุงุช</h3>
                <p>ุจุฑุง ุงุดุชุฑุงฺฉ ฺฉุงููฺฏโูุง VPN ู ุชูุธูุงุช</p>
                <button class="btn btn-primary" onclick="applyTemplate('config')">ุงุณุชูุงุฏู</button>
              </div>
              
              <div class="template-card" data-template="download">
                <div class="template-icon">โฌ๏ธ</div>
                <h3>ุตูุญู ุฏุงูููุฏ</h3>
                <p>ุจุฑุง ูุนุฑู ู ุฏุงูููุฏ ูุฑูโุงูุฒุงุฑูุง</p>
                <button class="btn btn-primary" onclick="applyTemplate('download')">ุงุณุชูุงุฏู</button>
              </div>
            </div>
          </div>

          <!-- File Manager -->
          <div id="view-files" class="view" role="region" aria-label="ูุฏุฑุช ูุงู" hidden>
            <div class="toolbar">
              <div class="group"><strong>ูุฏุฑุช ูุงูโูุง</strong></div>
              <div class="group">
                <input type="file" id="file-upload" multiple style="display:none" />
                <button type="button" id="btn-upload" class="btn">ุขูพููุฏ ูุงู</button>
              </div>
            </div>
            
            <div class="upload-area" id="upload-area">
              <div class="upload-content">
                <div class="upload-icon">๐</div>
                <p>ูุงูโูุง ุฑุง ุงูุฌุง ุจฺฉุดุฏ ุง ฺฉูฺฉ ฺฉูุฏ</p>
                <small>ูพุดุชุจุงู ุงุฒ ุชุตุงูุฑุ ูุงูโูุง ูุชู ู ุงุณูุงุฏ</small>
              </div>
            </div>
            
            <div class="files-list" id="files-list"></div>
          </div>

          <!-- Static Pages (read-only helper) -->
          <div id="view-pages" class="view" role="region" aria-label="ูุงูโูุง ุงุณุชุงุชฺฉ" hidden>
            <p>ุงู ุจุฎุด ุชููุง ุฌูุช ููุงุด ุณุงุฎุชุงุฑ ูุนู ุณุงุช ุงุณุช. ูุฏุฑุช ุงุตู ุงุฒ ุทุฑู KV ุงูุฌุงู ูโุดูุฏ.</p>
            <ul class="tree">
              <li>/index.html</li>
              <li>/Pages/
                <ul>
                  <li>android/</li>
                  <li>ios/</li>
                  <li>windows/</li>
                  <li>web-panel/</li>
                  <li>python-panel.html</li>
                </ul>
              </li>
              <li>/Articles/ (ุฏุฑ ุตูุฑุช ูุงุฒ ูโุชูุงูุฏ ูุญุชูุง ุฑุง ุฏุฑ KV ุจุง prefix: articles/ ูฺฏูุฏุงุฑ ฺฉูุฏ)</li>
            </ul>
          </div>
        </section>
      </section>
    </main>
  </div>

  <template id="tpl-item">
    <div class="kv-item">
      <div class="kv-key"></div>
      <div class="kv-actions">
        <button data-act="load" class="btn btn-xs">ุจุงุฒฺฉุฑุฏู</button>
        <button data-act="remove" class="btn btn-xs btn-danger">ุญุฐู</button>
      </div>
    </div>
  </template>

  <script src="admin.js"></script>
</body>
</html>
