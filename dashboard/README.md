# پنل مدیریت Pro TooLs

پنل مدیریت پیشرفته و کاربرپسند برای مدیریت محتوای سایت Pro TooLs

## ویژگی‌های اصلی

### 🔐 احراز هویت امن
- ورود با نام کاربری و رمز عبور
- محافظت CSRF
- نشست‌های امن
- بررسی خودکار وضعیت ورود

### 📝 مدیریت محتوا (KV)
- مشاهده و ویرایش تمام داده‌های KV
- جستجو بر اساس prefix
- پیش‌نمایش محتوا
- ذخیره و بارگذاری پیش‌نویس‌های محلی
- حذف و بروزرسانی آسان

### 📄 ساخت پست جدید
- فرم ساده برای افراد غیرفنی
- تولید خودکار کلید ذخیره
- پیش‌نمایش زنده
- مدیریت برچسب‌ها
- ذخیره پیش‌نویس محلی

### 🎨 تمپلیت‌های آماده
- **مقاله آموزشی**: برای راهنماها و آموزش‌های فنی
- **خبر و اطلاعیه**: برای انتشار اخبار
- **کانفیگ و تنظیمات**: برای اشتراک کانفیگ‌های VPN
- **صفحه دانلود**: برای معرفی نرم‌افزارها
- **صفحه HTML**: برای ساخت صفحات استاتیک

### 📁 مدیریت فایل
- آپلود با drag & drop
- پشتیبانی از انواع فایل (تصاویر، متن، JSON، HTML، CSS، JS)
- پیش‌نمایش فایل‌ها
- استفاده مستقیم در ویرایشگر
- ذخیره خودکار در KV

### 📞 مدیریت تماس‌ها
- ویرایش اطلاعات تماس
- مدیریت لینک‌های تلگرام
- ذخیره در KV با کلید `settings/contacts.json`

### 🏢 مدیریت اسپانسرها
- افزودن/حذف اسپانسرها
- ویرایش نام و لینک
- ذخیره در KV با کلید `settings/sponsors.json`

## نحوه استفاده

### ورود به پنل
1. به آدرس `/dashboard/admin/` بروید
2. نام کاربری و رمز عبور را وارد کنید
3. پس از ورود موفق، پنل مدیریت نمایش داده می‌شود

### ساخت محتوای جدید

#### استفاده از تمپلیت‌ها
1. به بخش "تمپلیت‌های آماده" بروید
2. تمپلیت مورد نظر را انتخاب کنید
3. روی "استفاده" کلیک کنید
4. محتوا در بخش KV قرار می‌گیرد
5. ویرایش و ذخیره کنید

#### ساخت پست ساده
1. به بخش "پست جدید" بروید
2. فرم را پر کنید:
   - عنوان
   - تصویر کاور (اختیاری)
   - خلاصه
   - برچسب‌ها
   - متن کامل
3. "تولید کلید" برای ایجاد کلید خودکار
4. "پیش‌نمایش" برای مشاهده نتیجه
5. "ذخیره در KV" برای انتشار

### آپلود فایل
1. به بخش "مدیریت فایل" بروید
2. فایل‌ها را drag & drop کنید یا "آپلود فایل" کلیک کنید
3. فایل‌های آپلود شده نمایش داده می‌شوند
4. می‌توانید:
   - "استفاده": محتوا را در ویرایشگر قرار دهید
   - "ذخیره در KV": مستقیماً در KV ذخیره کنید

### مدیریت KV مستقیم
1. به بخش "مدیریت محتوا (KV)" بروید
2. از prefix برای فیلتر کردن استفاده کنید
3. "لیست" برای مشاهده کلیدها
4. روی "بازکردن" کلیک کنید تا محتوا بارگذاری شود
5. ویرایش و "ذخیره/بروزرسانی"

## ساختار فایل‌ها

```
dashboard/
├── admin/
│   ├── index.html          # صفحه اصلی پنل
│   ├── admin.css          # استایل‌های پنل
│   └── admin.js           # منطق پنل
└── README.md              # این فایل
```

## API Endpoints

- `GET /api/admin/me` - بررسی وضعیت ورود
- `POST /api/admin/login` - ورود
- `POST /api/admin/logout` - خروج
- `GET /api/admin/csrf` - دریافت توکن CSRF
- `GET /api/admin/templates` - دریافت تمپلیت‌ها
- `POST /api/admin/templates` - ایجاد محتوا از تمپلیت
- `POST /api/admin/upload` - آپلود فایل
- `GET /api/admin/upload` - لیست فایل‌های آپلود شده
- `GET /api/admin/content` - دریافت محتوا
- `POST /api/admin/content` - مدیریت محتوا
- `GET /api/kv/list` - لیست کلیدهای KV
- `GET /api/kv/get` - دریافت مقدار KV
- `POST /api/kv/put` - ذخیره در KV
- `POST /api/kv/delete` - حذف از KV

## متغیرهای محیطی مورد نیاز

```
ADMIN_USER=نام_کاربری_مدیر
ADMIN_PASS=رمز_عبور_مدیر
SECRET=کلید_رمزنگاری_حداقل_16_کاراکتر
```

## امنیت

- تمام درخواست‌ها محافظت CSRF دارند
- احراز هویت برای تمام عملیات مدیریتی الزامی است
- نشست‌ها با HMAC امضا می‌شوند
- محدودیت اندازه فایل (حداکثر 10MB)
- فیلتر نوع فایل برای آپلود

## پشتیبانی

برای پشتیبانی و سوالات:
- تلگرام: [@Minimalcraft](https://t.me/Minimalcraft)
- تلگرام: [@NeoDebug](https://t.me/NeoDebug)

---

**Pro TooLs Admin Panel** - طراحی شده برای سادگی و قدرت 🚀
